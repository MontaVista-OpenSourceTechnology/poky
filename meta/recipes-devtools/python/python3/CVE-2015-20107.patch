From 24ce12366f95d8fa8a3dc609daa59579819481bd Mon Sep 17 00:00:00 2001
From: "Miss Islington (bot)"
 <31488909+miss-islington@users.noreply.github.com>
Date: Wed, 27 Apr 2022 02:59:32 -0700
Subject: [PATCH] gh-68966: Document mailcap deprecation in Python 3.11
 (GH-91971)

(cherry picked from commit 80de0273c0caf8bae19787bb00255eb3fb2a2d0c)
(cherry picked from commit a36d97e3f1daeb431e1c5bc8ab83daca93b747b0)

Co-authored-by: Victor Stinner <vstinner@python.org>

Upstream-Status: Backport
CVE: CVE-2015-20107
Signed-off-by: Armin Kuster <akuster@mvista.com>

---
 Doc/library/mailcap.rst    | 5 +++++
 Doc/library/netdata.rst    | 1 -
 Doc/library/superseded.rst | 3 ++-
 3 files changed, 7 insertions(+), 2 deletions(-)

Index: Python-3.5.9/Doc/library/mailcap.rst
===================================================================
--- Python-3.5.9.orig/Doc/library/mailcap.rst
+++ Python-3.5.9/Doc/library/mailcap.rst
@@ -3,9 +3,14 @@
 
 .. module:: mailcap
    :synopsis: Mailcap file handling.
+   :deprecated:
 
 **Source code:** :source:`Lib/mailcap.py`
 
+.. deprecated:: 3.11
+   The :mod:`mailcap` module is deprecated. See :pep:`594` for the rationale
+   and the :mod:`mimetypes` module for an alternative.
+
 --------------
 
 Mailcap files are used to configure how MIME-aware applications such as mail
Index: Python-3.5.9/Doc/library/netdata.rst
===================================================================
--- Python-3.5.9.orig/Doc/library/netdata.rst
+++ Python-3.5.9/Doc/library/netdata.rst
@@ -13,7 +13,6 @@ on the Internet.
 
    email.rst
    json.rst
-   mailcap.rst
    mailbox.rst
    mimetypes.rst
    base64.rst
Index: Python-3.5.9/Doc/library/superseded.rst
===================================================================
--- Python-3.5.9.orig/Doc/library/superseded.rst
+++ Python-3.5.9/Doc/library/superseded.rst
@@ -12,3 +12,4 @@ backwards compatibility. They have been
 
    optparse.rst
    imp.rst
+   mailcap.rst

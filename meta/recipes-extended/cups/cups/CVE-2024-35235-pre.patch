From e3952d3ecd231588bb382529281a294124db9348 Mon Sep 17 00:00:00 2001
From: Michael R Sweet <msweet@msweet.org>
Date: Thu, 7 Sep 2023 17:58:52 -0400
Subject: [PATCH] CVE-2024-35235-pre : DEBUG_printf modernization.

Upstream-Status: Backport from https://github.com/OpenPrinting/cups/commit/e3952d3ecd231588bb382529281a294124db9348#diff-6fc0a5ba57f83c8177d28f44729276fe35fcaaceae8b774481e6973fcbdf733d
CVE: CVE-2024-35235

Signed-off-by: Rohini Sangam <rsangam@mvista.com>
---
 .../cups/debug-internal.h            | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/cups/debug-internal.h b/cups/debug-internal.h
index 2b57854..2e1a56a 100644
--- a/cups/debug-internal.h
+++ b/cups/debug-internal.h
@@ -59,10 +59,10 @@ extern "C" {
 
 #  ifdef DEBUG
 #    define DEBUG_puts(x) _cups_debug_puts(x)
-#    define DEBUG_printf(x) _cups_debug_printf x
+#    define DEBUG_printf(...) _cups_debug_printf(__VA_ARGS__)
 #  else
 #    define DEBUG_puts(x)
-#    define DEBUG_printf(x)
+#    define DEBUG_printf(...)
 #  endif /* DEBUG */
 
 
-- 
2.24.4

